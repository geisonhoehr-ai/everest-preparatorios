export const ranks = [
  // ðŸª„ Liga 1 â€“ Aprendizes (NÃ­veis 1â€“5)
  { 
    name: "Novato da Guilda", 
    minScore: 0,
    league: "Aprendizes",
    level: 1,
    insignia: "ðŸ§¿ Pedra da IniciaÃ§Ã£o",
    blessing: "Todo herÃ³i comeÃ§ou do zero. VocÃª jÃ¡ comeÃ§ou."
  },
  { 
    name: "Estudante Arcano", 
    minScore: 100,
    league: "Aprendizes",
    level: 2,
    insignia: "ðŸ“œ Pergaminho Antigo",
    blessing: "Conhecimento Ã© o primeiro feitiÃ§o."
  },
  { 
    name: "Explorador das RuÃ­nas", 
    minScore: 300,
    league: "Aprendizes",
    level: 3,
    insignia: "ðŸ§­ BÃºssola da Curiosidade",
    blessing: "Os mapas se revelam para quem ousa explorar."
  },
  { 
    name: "Portador da Chama", 
    minScore: 600,
    league: "Aprendizes",
    level: 4,
    insignia: "ðŸ”¥ Chama do Despertar",
    blessing: "Uma pequena chama pode incendiar o mundo."
  },
  { 
    name: "Aprendiz de Batalha", 
    minScore: 1000,
    league: "Aprendizes",
    level: 5,
    insignia: "ðŸ›¡ï¸ Escudo Rachado",
    blessing: "Cada erro te fortalece para a prÃ³xima luta."
  },

  // ðŸ—¡ï¸ Liga 2 â€“ Aventureiros (NÃ­veis 6â€“10)
  { 
    name: "Guerreiro Errante", 
    minScore: 1500,
    league: "Aventureiros",
    level: 6,
    insignia: "âš”ï¸ Espada de Treinamento",
    blessing: "A estrada Ã© longa, mas vocÃª jÃ¡ empunha sua arma."
  },
  { 
    name: "Mago Iniciado", 
    minScore: 2500,
    league: "Aventureiros",
    level: 7,
    insignia: "ðŸ”® Orbe Brilhante",
    blessing: "O poder estÃ¡ na mente disciplinada."
  },
  { 
    name: "Ranger da Fronteira", 
    minScore: 4000,
    league: "Aventureiros",
    level: 8,
    insignia: "ðŸ¦… Pena do Vento",
    blessing: "VocÃª enxerga longe, e sabe onde quer chegar."
  },
  { 
    name: "Alquimista do Saber", 
    minScore: 6000,
    league: "Aventureiros",
    level: 9,
    insignia: "ðŸ§ª Frasco Violeta",
    blessing: "Misturar ideias tambÃ©m Ã© uma forma de magia."
  },
  { 
    name: "GuardiÃ£o do PortÃ£o", 
    minScore: 8500,
    league: "Aventureiros",
    level: 10,
    insignia: "ðŸ° Chave RÃºnica",
    blessing: "Agora vocÃª guarda conhecimento valioso."
  },

  // ðŸ›¡ï¸ Liga 3 â€“ HerÃ³is (NÃ­veis 11â€“15)
  { 
    name: "Paladino da LÃ³gica", 
    minScore: 11500,
    league: "HerÃ³is",
    level: 11,
    insignia: "âš–ï¸ Escudo Luminoso",
    blessing: "VocÃª defende ideias com verdade e sabedoria."
  },
  { 
    name: "Feiticeiro Elemental", 
    minScore: 15000,
    league: "HerÃ³is",
    level: 12,
    insignia: "ðŸŒ©ï¸ Cristal do TrovÃ£o",
    blessing: "VocÃª manipula o saber como forÃ§as da natureza."
  },
  { 
    name: "Assassino de DÃºvidas", 
    minScore: 20000,
    league: "HerÃ³is",
    level: 13,
    insignia: "ðŸ—¡ï¸ Adaga Mental",
    blessing: "Nenhuma dÃºvida resiste Ã  sua disciplina."
  },
  { 
    name: "Bardo dos CÃ³digos", 
    minScore: 26000,
    league: "HerÃ³is",
    level: 14,
    insignia: "ðŸŽ» Lira Dourada",
    blessing: "Seu conhecimento jÃ¡ inspira outros herÃ³is."
  },
  { 
    name: "Domador de Pergaminhos", 
    minScore: 33000,
    league: "HerÃ³is",
    level: 15,
    insignia: "ðŸ“š Cinto de Manuscritos",
    blessing: "Os livros jÃ¡ te obedecem como aliados."
  },

  // ðŸ”¥ Liga 4 â€“ Mestres (NÃ­veis 16â€“20)
  { 
    name: "Arcanista Supremo", 
    minScore: 41000,
    league: "Mestres",
    level: 16,
    insignia: "ðŸ’  Tatuagem Astral",
    blessing: "VocÃª toca as estrelas com o que sabe."
  },
  { 
    name: "General da Mente", 
    minScore: 50000,
    league: "Mestres",
    level: 17,
    insignia: "ðŸŽ–ï¸ Medalha PsÃ­quica",
    blessing: "VocÃª lidera batalhas com estratÃ©gia e clareza."
  },
  { 
    name: "Mestre Ilusionista", 
    minScore: 60000,
    league: "Mestres",
    level: 18,
    insignia: "ðŸªž MÃ¡scara do VÃ©u",
    blessing: "VocÃª transforma o complexo em algo simples."
  },
  { 
    name: "XamÃ£ do Conhecimento Ancestral", 
    minScore: 72000,
    league: "Mestres",
    level: 19,
    insignia: "ðŸº Totem da MemÃ³ria",
    blessing: "VocÃª carrega a sabedoria de eras."
  },
  { 
    name: "Arquimago do Saber", 
    minScore: 85000,
    league: "Mestres",
    level: 20,
    insignia: "ðŸ§™â€â™‚ï¸ Cajado Estelar",
    blessing: "VocÃª nÃ£o apenas aprende: vocÃª revela mistÃ©rios."
  },

  // ðŸŒŒ Liga 5 â€“ Lendas (NÃ­veis 21â€“25)
  { 
    name: "LÃ¢mina do Infinito", 
    minScore: 100000,
    league: "Lendas",
    level: 21,
    insignia: "ðŸ—¡ï¸ LÃ¢mina Eterna",
    blessing: "Seu esforÃ§o cortou os limites da dÃºvida."
  },
  { 
    name: "Profeta das Runas", 
    minScore: 120000,
    league: "Lendas",
    level: 22,
    insignia: "ðŸ”¤ Livro Vivo",
    blessing: "VocÃª lÃª alÃ©m das palavras. VocÃª compreende."
  },
  { 
    name: "GuardiÃ£o do Portal do Tempo", 
    minScore: 145000,
    league: "Lendas",
    level: 23,
    insignia: "â³ Ampulheta Divina",
    blessing: "VocÃª respeita o tempo, e o tempo te honra."
  },
  { 
    name: "Avatar do Conhecimento", 
    minScore: 175000,
    league: "Lendas",
    level: 24,
    insignia: "ðŸŒ  Aura de Sabedoria",
    blessing: "VocÃª Ã© a encarnaÃ§Ã£o do que estudou."
  },
  { 
    name: "Lenda da Torre Eterna", 
    minScore: 210000,
    league: "Lendas",
    level: 25,
    insignia: "ðŸ¯ Marca dos Imortais",
    blessing: "Seu nome estÃ¡ cravado no topo. Muitos o seguirÃ£o."
  }
];

export function getRank(score: number) {
  for (let i = ranks.length - 1; i >= 0; i--) {
    if (score >= ranks[i].minScore) {
      return ranks[i];
    }
  }
  return ranks[0]; // Novato da Guilda como default
}

export function getNextRankInfo(score: number) {
  for (let i = 0; i < ranks.length; i++) {
    if (score < ranks[i].minScore) {
      return {
        rank: ranks[i],
        scoreNeeded: ranks[i].minScore - score,
      };
    }
  }
  return null; // JÃ¡ estÃ¡ no rank mÃ¡ximo
}

export function getLeagueInfo(leagueName: string) {
  const leagueRanks = ranks.filter(rank => rank.league === leagueName);
  return {
    name: leagueName,
    ranks: leagueRanks,
    totalRanks: leagueRanks.length,
    minScore: leagueRanks[0]?.minScore || 0,
    maxScore: leagueRanks[leagueRanks.length - 1]?.minScore || 0
  };
}

export function getAllLeagues() {
  const leagues = [...new Set(ranks.map(rank => rank.league))];
  return leagues.map(leagueName => getLeagueInfo(leagueName));
}

export function getRankProgress(score: number) {
  const currentRank = getRank(score);
  const nextRank = getNextRankInfo(score);
  
  if (!nextRank) {
    return {
      currentRank,
      nextRank: null,
      progress: 100,
      scoreNeeded: 0,
      isMaxRank: true
    };
  }

  const currentRankScore = currentRank.minScore;
  const nextRankScore = nextRank.rank.minScore;
  const progress = ((score - currentRankScore) / (nextRankScore - currentRankScore)) * 100;

  return {
    currentRank,
    nextRank: nextRank.rank,
    progress: Math.min(100, Math.max(0, progress)),
    scoreNeeded: nextRank.scoreNeeded,
    isMaxRank: false
  };
}
